# Flight Booking System

## Development Setup

### Prerequisites
- **Docker Desktop** (includes Docker Compose)
- **Git**
- **Python 3.11+** (for virtual environment and testing)

### Quick Start
1. Clone the repository:
   ```bash
   git clone <your-repo-url>
   cd <your-project-name>
   ```

2. Create and activate a virtual environment:
   ```bash
   python -m venv venv
   
   # On Windows:
   venv\Scripts\activate
   
   # On macOS/Linux:
   source venv/bin/activate
   ```

3. Install Python dependencies:
   ```bash
   pip install -r requirements.txt
   ```

4. Make sure your installed docker is running.

4. Start the development environment:
   ```bash
   make run-local-with-chat
   ```

5. The application will be available and you can test it by opening the chat interface in your browser as indicated by the make command output.

### Available Make Commands

```bash
# Start local development server
make run-local

# Start local server and open chat interface
make run-local-with-chat

# Run all tests
make test

# Run fast unit tests only
make test-fast

# Run model tests specifically
make test-models

# Run tests with coverage report
make test-coverage

# Run evaluations
make run-evals

# Install test dependencies
make install-test-deps

# Update requirements.txt
make freeze-req
```

### Development Workflow

1. **Start development:** `make run-local`
2. **Run tests:** `make test-fast` (for quick feedback)
3. **Full test suite:** `make test` (before committing)
4. **Test with coverage:** `make test-coverage` (to check test coverage)

### Services

When you run `make run-local`, the following services start:
- **Application API:** Available via Docker
- **PostgreSQL Database:** Available via Docker
- **Chat Interface:** `chat_tester.html` in your browser

### Troubleshooting

**Port conflicts:**
- Check if ports 5432 (postgres) or 8000 (app) are already in use
- Stop the conflicting services or modify `docker-compose.yml`

**Database issues:**
```bash
# Reset everything
docker-compose down -v
make run-local
```

**Permission issues (Linux):**
```bash
sudo chown -R $USER:$USER .
```

**Python virtual environment issues:**
```bash
# Recreate virtual environment
rm -rf venv
python -m venv venv
source venv/bin/activate  # or venv\Scripts\activate on Windows
pip install -r requirements.txt
```

### Project Structure
```
├── app/                    # Application code
├── tests/                  # Test suite
├── local_run/             # Local development files
├── docker-compose.yml     # Development environment
├── Dockerfile            # App container definition
├── requirements.txt      # Python dependencies
├── Makefile             # Development commands
└── README.md            # This file
```